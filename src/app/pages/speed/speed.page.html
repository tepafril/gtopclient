<ion-header no-border>
  <ion-toolbar  color="primary" mode="ios">

    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <ion-icon class="bell-button" src="assets/themify-icons/SVG/arrow-left.svg"></ion-icon>
      </ion-button>
    </ion-buttons>

    <ion-title>
      {{ 'SPEED_PAGE.speed_limit' | translate }}
    </ion-title>

  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-grid class="ion-no-padding header-container">
    <ion-row>

      <ion-col size="12">&nbsp;</ion-col>

      <ion-col size="4"></ion-col>
      <ion-col class="ion-text-center item-avatar ion-align-self-center" size="4" routerLink="/deliveries">
        <ion-avatar>
          <img src="assets/google/marker/{{ item_icon }}.png">
        </ion-avatar>
      </ion-col>
      <ion-col size="4"></ion-col>


      <ion-col size="3"></ion-col>
      <ion-col size="6">
        <ion-button shape="round" expand="full" color="light" (click)="selectDevice()">
          {{ item_name }}
          <ion-icon slot="end" src="assets/themify-icons/SVG/exchange-vertical.svg"></ion-icon>
        </ion-button>
      </ion-col>
      <ion-col size="3"></ion-col>
    </ion-row>



  </ion-grid>

  <ion-grid class="ion-no-padding ion-top-padding1">

    <ion-list>
      <ion-item>
        <ion-icon slot="start" src="assets/themify-icons/SVG/bell.svg"></ion-icon>
        <ion-label>
          <ion-text color="dark">{{ 'SPEED_PAGE.overspeed_notification' | translate }}</ion-text>
        </ion-label>
      </ion-item>
    
      <ion-item>
        <ion-label>{{ 'SPEED_PAGE.overspeed_notify' | translate }}</ion-label>
        <ion-toggle [(ngModel)]="overspeed_alert" (click)="toggleOverspeedAlert($event)"></ion-toggle>
      </ion-item>

      <ion-item button (click)="showBasicPicker()">
        <ion-label>
          <ion-row>

            <ion-col>
              <ion-text color="dark">{{ 'SPEED_PAGE.limit_speed' | translate }}</ion-text>
            </ion-col>
            <ion-col class="ion-text-right">
              {{ speed_limit }} {{ 'SPEED_PAGE.kmh' | translate }}
            </ion-col>

          </ion-row>        
        </ion-label>
      </ion-item>
      
    </ion-list>


    <ion-list>
      <ion-item>
        <ion-icon slot="start" src="assets/themify-icons/SVG/alarm-clock.svg"></ion-icon>
        <ion-label>
          <ion-text color="dark">{{ 'SPEED_PAGE.speed_history' | translate }}</ion-text>
        </ion-label>
      </ion-item>

      <ion-item-group *ngFor="let item of dataList">
        <ion-item-divider *ngIf="item.have_group != 0">
          <ion-label>{{ item.serverdate }}</ion-label>
        </ion-item-divider>
      
        <ion-item *ngIf="item.have_group != 0">
          <ion-label>
            <ion-row>
              <ion-col size="4">
                &nbsp;
              </ion-col>

              <ion-col size="4" class="ion-text-center">
                <ion-text color="dark">{{ 'SPEED_PAGE.limit_speed' | translate }}</ion-text>
              </ion-col>

              <ion-col size="4" class="ion-text-center">
                <ion-text color="dark">{{ 'SPEED_PAGE.overspeed' | translate }}</ion-text>
              </ion-col>
            </ion-row>
          </ion-label>
        </ion-item>

        <ion-item>
          <ion-label>
            <ion-row>
              <ion-col size="4">
                {{ item.servertime }}
              </ion-col>

              <ion-col size="4" class="ion-text-center">
                <ion-text color="primary">{{ item.speedLimit }}</ion-text>
              </ion-col>

              <ion-col size="4" class="ion-text-center">
                <ion-text color="danger">{{ item.speed }}</ion-text>
              </ion-col>
            </ion-row>
          </ion-label>
        </ion-item>
        
      </ion-item-group>
    </ion-list>
 
    <ion-infinite-scroll threshold="100px" (ionInfinite)="loadData($event)">
      <ion-infinite-scroll-content
        loadingSpinner="bubbles"
        loadingText="{{ 'APP.load_more_data' | translate }}">
      </ion-infinite-scroll-content>
    </ion-infinite-scroll>

  </ion-grid>



  
</ion-content>
