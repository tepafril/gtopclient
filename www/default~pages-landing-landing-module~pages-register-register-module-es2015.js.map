{"version":3,"sources":["./src/app/pages/register/register.page.html","./src/app/pages/register/register.page.scss","./src/app/pages/register/register.page.ts"],"names":[],"mappings":"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","file":"default~pages-landing-landing-module~pages-register-register-module-es2015.js","sourcesContent":["export default \"<ion-content>\\n  <img src=\\\"/assets/header-logo-red.jpg\\\" class=\\\"ion-hide-md-up\\\">\\n\\n  <ion-text color=\\\"dark\\\">\\n    <h2 class=\\\"ion-text-center\\\">{{ 'REGISTER_PAGE.register_new_phone' | translate }}</h2>\\n  </ion-text>\\n\\n  <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"sendOTP(form)\\\" method=\\\"post\\\" class=\\\"ion-padding\\\" *ngIf=\\\"!isSent && !isPinVerified\\\">\\n    <ion-item>\\n      <ion-text color=\\\"danger\\\">\\n        <h5 class=\\\"ion-text-center\\\">{{ 'REGISTER_PAGE.enter_phone' | translate }}</h5>\\n      </ion-text>\\n      <ion-label position=\\\"floating\\\">{{ 'APP.phone_number' | translate }}</ion-label>\\n      <ion-input ngModel type=\\\"tel\\\" name=\\\"phone\\\" required></ion-input>\\n    </ion-item>\\n\\n    <ion-button expand=\\\"full\\\" color=\\\"danger\\\" type=\\\"submit\\\">{{ 'APP.submit' | translate }}</ion-button>\\n    <ion-button fill=\\\"clear\\\" color=\\\"dark\\\" expand=\\\"full\\\" (click)=\\\"dismissRegister()\\\"><ion-icon  src=\\\"assets/themify-icons/SVG/arrow-left.svg\\\"></ion-icon> &nbsp;&nbsp;&nbsp;&nbsp; {{ 'APP.back' | translate }}</ion-button>\\n  </form>\\n\\n  <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"verifyOTP(form)\\\" method=\\\"post\\\" class=\\\"ion-padding\\\" *ngIf=\\\"isSent && !isPinVerified\\\">\\n    <ion-item>\\n      <ion-text color=\\\"danger\\\">\\n        <h5 class=\\\"ion-text-center\\\">លោកអ្នកនឹងទទួលបានសារ(SMS) មួយដែលមានលេខ 6ខ្ទង់។ សូមបញ្ចូលលេខនោះក្នុងប្រអប់ខាងក្រោម</h5>\\n      </ion-text>      \\n      <ion-label position=\\\"floating\\\">{{ 'APP.password' | translate }}</ion-label>\\n      <ion-input ngModel type=\\\"tel\\\" name=\\\"otp\\\" required></ion-input>\\n    </ion-item>\\n\\n    <ion-button expand=\\\"full\\\" color=\\\"danger\\\" type=\\\"submit\\\">{{ 'APP.submit' | translate }}</ion-button>\\n    <ion-button fill=\\\"clear\\\" color=\\\"dark\\\" expand=\\\"full\\\" (click)=\\\"backToSendingOTP()\\\" [disabled]=\\\"isBackable\\\"><ion-icon  src=\\\"assets/themify-icons/SVG/arrow-left.svg\\\"></ion-icon> &nbsp;&nbsp;&nbsp;&nbsp; {{ 'APP.back' | translate }} ({{ countDownTimer }})</ion-button>\\n  </form>\\n\\n  <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"register(form)\\\" method=\\\"post\\\" class=\\\"ion-padding\\\" *ngIf=\\\"isPinVerified\\\">\\n    <ion-item>\\n      <ion-text color=\\\"danger\\\">\\n        <h5 class=\\\"ion-text-center\\\">សូមវាយបញ្ចូលពាក្យសំងាត់ថ្មីរបស់លោកអ្នក</h5>\\n      </ion-text>\\n      <ion-label position=\\\"floating\\\">{{ 'APP.password' | translate }}</ion-label>\\n      <ion-input ngModel type=\\\"password\\\" name=\\\"password\\\" required></ion-input>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">{{ 'APP.confirm_password' | translate }}</ion-label>\\n      <ion-input ngModel type=\\\"password\\\" name=\\\"confirmPassword\\\" required></ion-input>\\n    </ion-item>\\n\\n    <ion-button expand=\\\"full\\\" color=\\\"danger\\\" type=\\\"submit\\\">{{ 'APP.submit' | translate }}</ion-button>\\n    <ion-button fill=\\\"clear\\\" color=\\\"dark\\\" expand=\\\"full\\\" (click)=\\\"backToSendingOTP()\\\"><ion-icon  src=\\\"assets/themify-icons/SVG/arrow-left.svg\\\"></ion-icon> &nbsp;&nbsp;&nbsp;&nbsp; {{ 'APP.back' | translate }}</ion-button>\\n  </form>\\n\\n  <div id=\\\"recaptcha-container\\\"></div>\\n  \\n</ion-content>\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3JlZ2lzdGVyL3JlZ2lzdGVyLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { Platform, ModalController, NavController, LoadingController } from '@ionic/angular';\nimport { NgForm } from '@angular/forms';\n// import { cfaSignIn, cfaSignInPhoneOnCodeSent } from 'capacitor-firebase-auth';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport * as firebase from 'firebase/app';\n\n\nimport { FirebaseAuthentication } from '@ionic-native/firebase-authentication/ngx';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.page.html',\n  styleUrls: ['./register.page.scss'],\n})\nexport class RegisterPage implements OnInit {\n\n  public sent: boolean;\n  public phone_number: string;\n  public busy: boolean = false;\n  public recaptchaVerifier: firebase.auth.RecaptchaVerifier;\n\n\n\n  firebaseVerificationId;\n  fireabaseTokenId;\n  isSent = false;\n  phoneNumber;\n  password;\n  loading;\n  isBackable = false;\n  isPinVerified = false;\n  httpResponse:any;\n\n  public countDownTimer:string = '0:59';\n\n\n  signInWithCode(){\n  }\n\n\n  constructor(\n    private modalController: ModalController,\n    private authService: AuthService,\n    private navCtrl: NavController,\n    private alertService: AlertService,\n    private platform: Platform,\n    private loadingController: LoadingController,\n    private lang: TranslateService,\n    private firebaseAuthentication: FirebaseAuthentication\n  ) {\n  }\n\n  ngOnInit() { \n  }\n\n  dismissRegister() {\n    this.modalController.dismiss();\n  }\n\n  backToSendingOTP() {\n    this.isSent = false;\n    this.isPinVerified = false;\n    this.countDownTimer = '0:59';\n  }\n\n  sendOTP(form: NgForm){\n    this.phoneNumber = form.value.phone;\n    if( !navigator.onLine )\n    {\n      this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + this.lang.instant('APP.internet_not_work') + \"</ion-text>\",\"danger\");\n      return;\n    }\n    if( this.phoneNumber.length < 9 ){\n      this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + this.lang.instant('APP.please_validate_phone') + \"</ion-text>\",\"danger\");\n      return;\n    }\n    this.presentLoading();\n    this.authService.isPhoneAvailable(this.phoneNumber).subscribe( data => {\n      this.httpResponse = data;\n      this.phoneNumber = this.httpResponse.phone;\n\n      // *******************************\n      // Firebase Start Sending OTP\n      // *******************************\n      this.firebaseAuthentication.verifyPhoneNumber(this.phoneNumber, 30000).then((verificationID) => {\n        this.isSent = true;\n        this.startTimer(60);\n        this.loading.dismiss();\n        this.firebaseVerificationId = verificationID;\n      }).catch((error) => {\n        this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + error + \"</ion-text>\",\"danger\");\n      });\n      // *******************************\n      // END Firebase Start Sending OTP\n      // *******************************\n      this.loading.dismiss();\n    }, err => {\n      if( err.error.message ){\n        this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + err.error.message + \"</ion-text>\",\"danger\");\n      }\n      else{\n        this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + err.message + \"</ion-text>\",\"danger\");\n      }\n      this.loading.dismiss();\n    });\n  }\n\n  verifyOTP(form: NgForm){\n    if( !navigator.onLine )\n    {\n      this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + this.lang.instant('APP.internet_not_work') + \"</ion-text>\",\"danger\");\n      return;\n    }\n    this.presentLoading();\n    // let credential = firebase.auth.PhoneAuthProvider.credential(this.firebaseVerificationId, form.value.otp);\n    \n    this.firebaseAuthentication.signInWithVerificationId(this.firebaseVerificationId, form.value.otp).then((user)=>{\n      // console.log(user);\n      \n      this.firebaseAuthentication.getIdToken(true).then(idToken=>{\n        this.fireabaseTokenId = idToken;\n        console.log(\"this.fireabaseTokenId\");\n        console.log(this.fireabaseTokenId);\n        console.log(\"end this.fireabaseTokenId\");\n        this.authService.verifyToken( this.fireabaseTokenId, \"gpstopone\" ).subscribe(\n          data => {\n            this.httpResponse = data;\n          }, err => {\n            if( err.error.message ){\n              this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + err.error.message + \"</ion-text>\",\"danger\");\n            }\n            else{\n              this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + err.message + \"</ion-text>\",\"danger\");\n            }\n            this.loading.dismiss();\n          }, () => {\n            this.isPinVerified = true;\n            this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + this.httpResponse.message + \"</ion-text>\",\"success\");\n            this.loading.dismiss();\n          }\n        );\n\n      }).catch(error => {\n        this.loading.dismiss();\n        this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + error + \"</ion-text>\",\"danger\");\n      });  \n      \n    }).catch((error)=>{\n      console.log(error);\n      this.loading.dismiss();\n      this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + error + \"</ion-text>\",\"danger\");\n    });\n\n  }\n\n  register(form: NgForm){\n    if( !navigator.onLine )\n    {\n      this.alertService.presentToast(\"<ion-text>អ៉ីនធើណែតទូរស័ព្ទលោកអ្នកមិនដំណើរការនោះទេ! សូមរកកន្លែងមានសេវាឬភ្ជាប់ WiFi ដែលនៅជិតលោកអ្នក។</ion-text>\",\"danger\");\n      return;\n    }\n    if( form.value.password.length < 6 ){\n      this.alertService.presentToast(\"<ion-text>ពាក្យសំងាត់ត្រូវមានចំនួន6ខ្ទង់ឡើងទៅ</ion-text>\",\"danger\");\n      return;\n    }\n    if( form.value.password != form.value.confirmPassword ){\n      this.alertService.presentToast(\"<ion-text>ពាក្យសំងាត់សម្រាប់ផ្ទៀងផ្ទាត់មិនដូចគ្នាទេ</ion-text>\",\"danger\");\n      return;\n    }\n    this.presentLoading();\n    this.password = form.value.password;\n    this.authService.register( this.fireabaseTokenId, form.value.password, form.value.confirmPassword, 'gpstopone' ).subscribe(\n      data => {\n        this.httpResponse = data;\n        this.authService.login(this.phoneNumber, this.password).subscribe( data => {\n          this.alertService.presentToast(\"<ion-text>\" + this.httpResponse.message + \"</ion-text>\",\"success\");\n          this.dismissRegister();\n          this.navCtrl.navigateForward('/pending');\n        }, err => {\n          if( err.error.message )\n            this.alertService.presentToast(\"<ion-text>\" + err.error.message + \"</ion-text>\",\"danger\");\n          else\n            this.alertService.presentToast(\"<ion-text>\" + err.message + \"</ion-text>\",\"danger\");\n          this.loading.dismiss();\n        });\n      }, err => {\n        if( err.error.message )\n          this.alertService.presentToast(\"<ion-text>\" + err.error.message + \"</ion-text>\",\"danger\");\n        else\n          this.alertService.presentToast(\"<ion-text>\" + err.message + \"</ion-text>\",\"danger\");\n        this.loading.dismiss();\n      }, () => {\n        this.loading.dismiss();\n      }\n    );\n  }\n\n  async presentLoading() {\n    this.loading = await this.loadingController.create({\n      message: 'Please wait',\n      duration: 10000\n    });\n    await this.loading.present();\n  }\n\n  startTimer(startSec) {\n    setTimeout(() => {\n      startSec --;\n      if( startSec > 10 )\n        this.countDownTimer = '0:' + startSec;\n      else\n        this.countDownTimer = '0:0' + startSec;\n      if( startSec > 0 )\n      {\n        this.startTimer(startSec);\n      }\n      else{\n        this.isBackable = true;\n      }\n    },1000);\n  }\n\n\n  onSubmit(formData) {\n    if( this.platform.is('cordova') ){\n      // cfaSignIn('phone', {\"phone\": \"+85516827282\"}).subscribe(\n      //   user => console.log(user.phoneNumber)\n      // );\n    }\n    else{\n      // const appVerifier = this.recaptchaVerifier;\n      // firebase.auth().signInWithPhoneNumber(formData.phone_number, appVerifier)\n      // .then((confirmationResult) => {\n      //   this.sent = true;\n      //   const verification = prompt('Enter verification code');\n      //   if (verification != null) {\n      //     console.log(verification);\n      //     confirmationResult.confirm(verification)\n      //       .then((good) => {\n      //         // all checks out\n      //       })\n      //       .catch((bad) => {\n      //         // code verification was bad.\n      //       });\n      //   } else {\n      //     console.log('No verification code entered');\n      //   }\n      // })\n      // .catch((err) => {\n      //   console.log('sms not sent', err);\n      // });\n    }\n  }\n  \n\n}\n"],"sourceRoot":"webpack:///"}