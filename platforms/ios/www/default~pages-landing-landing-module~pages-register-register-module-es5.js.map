{"version":3,"sources":["src/app/pages/register/register.page.html","src/app/pages/register/register.page.scss","src/app/pages/register/register.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-content>\\n  <img src=\\\"/assets/header-logo-red.jpg\\\" class=\\\"ion-hide-md-up\\\">\\n\\n  <ion-text color=\\\"dark\\\">\\n    <h2 class=\\\"ion-text-center\\\">{{ 'REGISTER_PAGE.register_new_phone' | translate }}</h2>\\n  </ion-text>\\n\\n  <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"sendOTP(form)\\\" method=\\\"post\\\" class=\\\"ion-padding\\\" *ngIf=\\\"!isSent && !isPinVerified\\\">\\n    <ion-item>\\n      <ion-text color=\\\"danger\\\">\\n        <h5 class=\\\"ion-text-center\\\">{{ 'REGISTER_PAGE.enter_phone' | translate }}</h5>\\n      </ion-text>\\n      <ion-label position=\\\"floating\\\">{{ 'APP.phone_number' | translate }}</ion-label>\\n      <ion-input ngModel type=\\\"tel\\\" name=\\\"phone\\\" required></ion-input>\\n    </ion-item>\\n\\n    <ion-button expand=\\\"full\\\" color=\\\"danger\\\" type=\\\"submit\\\">{{ 'APP.submit' | translate }}</ion-button>\\n    <ion-button fill=\\\"clear\\\" color=\\\"dark\\\" expand=\\\"full\\\" (click)=\\\"dismissRegister()\\\"><ion-icon  src=\\\"assets/themify-icons/SVG/arrow-left.svg\\\"></ion-icon> &nbsp;&nbsp;&nbsp;&nbsp; {{ 'APP.back' | translate }}</ion-button>\\n  </form>\\n\\n  <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"verifyOTP(form)\\\" method=\\\"post\\\" class=\\\"ion-padding\\\" *ngIf=\\\"isSent && !isPinVerified\\\">\\n    <ion-item>\\n      <ion-text color=\\\"danger\\\">\\n        <h5 class=\\\"ion-text-center\\\">លោកអ្នកនឹងទទួលបានសារ(SMS) មួយដែលមានលេខ 6ខ្ទង់។ សូមបញ្ចូលលេខនោះក្នុងប្រអប់ខាងក្រោម</h5>\\n      </ion-text>      \\n      <ion-label position=\\\"floating\\\">{{ 'APP.password' | translate }}</ion-label>\\n      <ion-input ngModel type=\\\"tel\\\" name=\\\"otp\\\" required></ion-input>\\n    </ion-item>\\n\\n    <ion-button expand=\\\"full\\\" color=\\\"danger\\\" type=\\\"submit\\\">{{ 'APP.submit' | translate }}</ion-button>\\n    <ion-button fill=\\\"clear\\\" color=\\\"dark\\\" expand=\\\"full\\\" (click)=\\\"backToSendingOTP()\\\" [disabled]=\\\"isBackable\\\"><ion-icon  src=\\\"assets/themify-icons/SVG/arrow-left.svg\\\"></ion-icon> &nbsp;&nbsp;&nbsp;&nbsp; {{ 'APP.back' | translate }} ({{ countDownTimer }})</ion-button>\\n  </form>\\n\\n  <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"register(form)\\\" method=\\\"post\\\" class=\\\"ion-padding\\\" *ngIf=\\\"isPinVerified\\\">\\n    <ion-item>\\n      <ion-text color=\\\"danger\\\">\\n        <h5 class=\\\"ion-text-center\\\">សូមវាយបញ្ចូលពាក្យសំងាត់ថ្មីរបស់លោកអ្នក</h5>\\n      </ion-text>\\n      <ion-label position=\\\"floating\\\">{{ 'APP.password' | translate }}</ion-label>\\n      <ion-input ngModel type=\\\"password\\\" name=\\\"password\\\" required></ion-input>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">{{ 'APP.confirm_password' | translate }}</ion-label>\\n      <ion-input ngModel type=\\\"password\\\" name=\\\"confirmPassword\\\" required></ion-input>\\n    </ion-item>\\n\\n    <ion-button expand=\\\"full\\\" color=\\\"danger\\\" type=\\\"submit\\\">{{ 'APP.submit' | translate }}</ion-button>\\n    <ion-button fill=\\\"clear\\\" color=\\\"dark\\\" expand=\\\"full\\\" (click)=\\\"backToSendingOTP()\\\"><ion-icon  src=\\\"assets/themify-icons/SVG/arrow-left.svg\\\"></ion-icon> &nbsp;&nbsp;&nbsp;&nbsp; {{ 'APP.back' | translate }}</ion-button>\\n  </form>\\n\\n  <div id=\\\"recaptcha-container\\\"></div>\\n  \\n</ion-content>\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3JlZ2lzdGVyL3JlZ2lzdGVyLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { Platform, ModalController, NavController, LoadingController } from '@ionic/angular';\nimport { NgForm } from '@angular/forms';\n// import { cfaSignIn, cfaSignInPhoneOnCodeSent } from 'capacitor-firebase-auth';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport * as firebase from 'firebase/app';\n\n\nimport { FirebaseAuthentication } from '@ionic-native/firebase-authentication/ngx';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.page.html',\n  styleUrls: ['./register.page.scss'],\n})\nexport class RegisterPage implements OnInit {\n\n  public sent: boolean;\n  public phone_number: string;\n  public busy: boolean = false;\n  public recaptchaVerifier: firebase.auth.RecaptchaVerifier;\n\n\n\n  firebaseVerificationId;\n  fireabaseTokenId;\n  isSent = false;\n  phoneNumber;\n  password;\n  loading;\n  isBackable = false;\n  isPinVerified = false;\n  httpResponse:any;\n\n  public countDownTimer:string = '0:59';\n\n\n  signInWithCode(){\n  }\n\n\n  constructor(\n    private modalController: ModalController,\n    private authService: AuthService,\n    private navCtrl: NavController,\n    private alertService: AlertService,\n    private platform: Platform,\n    private loadingController: LoadingController,\n    private lang: TranslateService,\n    private firebaseAuthentication: FirebaseAuthentication\n  ) {\n  }\n\n  ngOnInit() { \n  }\n\n  dismissRegister() {\n    this.modalController.dismiss();\n  }\n\n  backToSendingOTP() {\n    this.isSent = false;\n    this.isPinVerified = false;\n    this.countDownTimer = '0:59';\n  }\n\n  sendOTP(form: NgForm){\n    this.phoneNumber = form.value.phone;\n    if( !navigator.onLine )\n    {\n      this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + this.lang.instant('APP.internet_not_work') + \"</ion-text>\",\"danger\");\n      return;\n    }\n    if( this.phoneNumber.length < 9 ){\n      this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + this.lang.instant('APP.please_validate_phone') + \"</ion-text>\",\"danger\");\n      return;\n    }\n    this.presentLoading();\n    this.authService.isPhoneAvailable(this.phoneNumber).subscribe( data => {\n      this.httpResponse = data;\n      this.phoneNumber = this.httpResponse.phone;\n\n      // *******************************\n      // Firebase Start Sending OTP\n      // *******************************\n      this.firebaseAuthentication.verifyPhoneNumber(this.phoneNumber, 30000).then((verificationID) => {\n        this.isSent = true;\n        this.startTimer(60);\n        this.loading.dismiss();\n        this.firebaseVerificationId = verificationID;\n      }).catch((error) => {\n        this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + error + \"</ion-text>\",\"danger\");\n      });\n      // *******************************\n      // END Firebase Start Sending OTP\n      // *******************************\n      this.loading.dismiss();\n    }, err => {\n      if( err.error.message ){\n        this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + err.error.message + \"</ion-text>\",\"danger\");\n      }\n      else{\n        this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + err.message + \"</ion-text>\",\"danger\");\n      }\n      this.loading.dismiss();\n    });\n  }\n\n  verifyOTP(form: NgForm){\n    if( !navigator.onLine )\n    {\n      this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + this.lang.instant('APP.internet_not_work') + \"</ion-text>\",\"danger\");\n      return;\n    }\n    this.presentLoading();\n    // let credential = firebase.auth.PhoneAuthProvider.credential(this.firebaseVerificationId, form.value.otp);\n    \n    this.firebaseAuthentication.signInWithVerificationId(this.firebaseVerificationId, form.value.otp).then((user)=>{\n      // console.log(user);\n      \n      this.firebaseAuthentication.getIdToken(true).then(idToken=>{\n        this.fireabaseTokenId = idToken;\n        console.log(\"this.fireabaseTokenId\");\n        console.log(this.fireabaseTokenId);\n        console.log(\"end this.fireabaseTokenId\");\n        this.authService.verifyToken( this.fireabaseTokenId, \"gpstopone\" ).subscribe(\n          data => {\n            this.httpResponse = data;\n          }, err => {\n            if( err.error.message ){\n              this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + err.error.message + \"</ion-text>\",\"danger\");\n            }\n            else{\n              this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + err.message + \"</ion-text>\",\"danger\");\n            }\n            this.loading.dismiss();\n          }, () => {\n            this.isPinVerified = true;\n            this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + this.httpResponse.message + \"</ion-text>\",\"success\");\n            this.loading.dismiss();\n          }\n        );\n\n      }).catch(error => {\n        this.loading.dismiss();\n        this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + error + \"</ion-text>\",\"danger\");\n      });  \n      \n    }).catch((error)=>{\n      console.log(error);\n      this.loading.dismiss();\n      this.alertService.presentToast(\"<ion-text class=\\\"ion-text-center\\\">\" + error + \"</ion-text>\",\"danger\");\n    });\n\n  }\n\n  register(form: NgForm){\n    if( !navigator.onLine )\n    {\n      this.alertService.presentToast(\"<ion-text>អ៉ីនធើណែតទូរស័ព្ទលោកអ្នកមិនដំណើរការនោះទេ! សូមរកកន្លែងមានសេវាឬភ្ជាប់ WiFi ដែលនៅជិតលោកអ្នក។</ion-text>\",\"danger\");\n      return;\n    }\n    if( form.value.password.length < 6 ){\n      this.alertService.presentToast(\"<ion-text>ពាក្យសំងាត់ត្រូវមានចំនួន6ខ្ទង់ឡើងទៅ</ion-text>\",\"danger\");\n      return;\n    }\n    if( form.value.password != form.value.confirmPassword ){\n      this.alertService.presentToast(\"<ion-text>ពាក្យសំងាត់សម្រាប់ផ្ទៀងផ្ទាត់មិនដូចគ្នាទេ</ion-text>\",\"danger\");\n      return;\n    }\n    this.presentLoading();\n    this.password = form.value.password;\n    this.authService.register( this.fireabaseTokenId, form.value.password, form.value.confirmPassword, 'gpstopone' ).subscribe(\n      data => {\n        this.httpResponse = data;\n        this.authService.login(this.phoneNumber, this.password).subscribe( data => {\n          this.alertService.presentToast(\"<ion-text>\" + this.httpResponse.message + \"</ion-text>\",\"success\");\n          this.dismissRegister();\n          this.navCtrl.navigateForward('/pending');\n        }, err => {\n          if( err.error.message )\n            this.alertService.presentToast(\"<ion-text>\" + err.error.message + \"</ion-text>\",\"danger\");\n          else\n            this.alertService.presentToast(\"<ion-text>\" + err.message + \"</ion-text>\",\"danger\");\n          this.loading.dismiss();\n        });\n      }, err => {\n        if( err.error.message )\n          this.alertService.presentToast(\"<ion-text>\" + err.error.message + \"</ion-text>\",\"danger\");\n        else\n          this.alertService.presentToast(\"<ion-text>\" + err.message + \"</ion-text>\",\"danger\");\n        this.loading.dismiss();\n      }, () => {\n        this.loading.dismiss();\n      }\n    );\n  }\n\n  async presentLoading() {\n    this.loading = await this.loadingController.create({\n      message: 'Please wait',\n      duration: 10000\n    });\n    await this.loading.present();\n  }\n\n  startTimer(startSec) {\n    setTimeout(() => {\n      startSec --;\n      if( startSec > 10 )\n        this.countDownTimer = '0:' + startSec;\n      else\n        this.countDownTimer = '0:0' + startSec;\n      if( startSec > 0 )\n      {\n        this.startTimer(startSec);\n      }\n      else{\n        this.isBackable = true;\n      }\n    },1000);\n  }\n\n\n  onSubmit(formData) {\n    if( this.platform.is('cordova') ){\n      // cfaSignIn('phone', {\"phone\": \"+85516827282\"}).subscribe(\n      //   user => console.log(user.phoneNumber)\n      // );\n    }\n    else{\n      // const appVerifier = this.recaptchaVerifier;\n      // firebase.auth().signInWithPhoneNumber(formData.phone_number, appVerifier)\n      // .then((confirmationResult) => {\n      //   this.sent = true;\n      //   const verification = prompt('Enter verification code');\n      //   if (verification != null) {\n      //     console.log(verification);\n      //     confirmationResult.confirm(verification)\n      //       .then((good) => {\n      //         // all checks out\n      //       })\n      //       .catch((bad) => {\n      //         // code verification was bad.\n      //       });\n      //   } else {\n      //     console.log('No verification code entered');\n      //   }\n      // })\n      // .catch((err) => {\n      //   console.log('sms not sent', err);\n      // });\n    }\n  }\n  \n\n}\n"],"sourceRoot":"webpack:///","file":"default~pages-landing-landing-module~pages-register-register-module-es5.js"}