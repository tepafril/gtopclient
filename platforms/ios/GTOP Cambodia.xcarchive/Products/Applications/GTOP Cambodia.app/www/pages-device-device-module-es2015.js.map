{"version":3,"sources":["./src/app/pages/device/device.page.html","./src/app/pages/device/device-routing.module.ts","./src/app/pages/device/device.module.ts","./src/app/pages/device/device.page.scss","./src/app/pages/device/device.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,+XAAgU,gCAAgC,yQAAyQ,oBAAoB,iFAAiF,gBAAgB,wOAAwO,eAAe,uOAAuO,eAAe,sOAAsO,gBAAgB,wOAAwO,wCAAwC,GAAG,wCAAwC,+E;;;;;;;;;;;;;;;;;;;ACAluD;AACc;AAEZ;AAE3C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,uDAAU;KACtB;CACF,CAAC;AAMF,IAAa,uBAAuB,GAApC,MAAa,uBAAuB;CAAG;AAA1B,uBAAuB;IAJnC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,uBAAuB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;AChBK;AACM;AACF;AAEA;AAEqB;AAEvB;AAEW;AAYtD,IAAa,gBAAgB,GAA7B,MAAa,gBAAgB;CAAG;AAAnB,gBAAgB;IAV5B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,8EAAuB;YACvB,mEAAe,CAAC,QAAQ,EAAE;SAC3B;QACD,YAAY,EAAE,CAAC,uDAAU,CAAC;KAC3B,CAAC;GACW,gBAAgB,CAAG;AAAH;;;;;;;;;;;;;ACtB7B;AAAe,gFAAiB,2BAA2B,GAAG,6CAA6C,+d;;;;;;;;;;;;;;;;;;;;;;;ACAzD;AACuB;AACtB;AACS;AACG;AAGD;AACI;AACX;AAOvD,IAAa,UAAU,GAAvB,MAAa,UAAU;IAMrB,YACU,IAAgB,EAChB,WAAwB,EACxB,OAAsB,EACvB,iBAAoC,EACpC,eAAgC,EAC/B,YAA0B,EAC1B,cAA8B,EAC9B,IAAsB,EACvB,QAAkB;QARjB,SAAI,GAAJ,IAAI,CAAY;QAChB,gBAAW,GAAX,WAAW,CAAa;QACxB,YAAO,GAAP,OAAO,CAAe;QACvB,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,oBAAe,GAAf,eAAe,CAAiB;QAC/B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,SAAI,GAAJ,IAAI,CAAkB;QACvB,aAAQ,GAAR,QAAQ,CAAU;IACtB,CAAC;IAEN,QAAQ;IACR,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACjC,IAAI,CAAC,YAAY,EAAE,CAAC;IACtB,CAAC;IAED,YAAY;QAEV,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YACjD,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC;YACxB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC;QACzC,CAAC,EAAE,GAAG,CAAC,EAAE;YACP,IAAI,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE;gBACrB,IAAI,CAAC,YAAY,CAAC,YAAY,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;aAC9D;iBACG;gBACF,IAAI,CAAC,YAAY,CAAC,YAAY,CAAE,GAAG,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;aACxD;YACD,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACzB,CAAC,EAAE,GAAE,EAAE;YACL,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YAC/B,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACzB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,qBAAqB,CAAC,CAAC;IACnD,CAAC;IAEK,yBAAyB;;YAC7B,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBACjD,QAAQ,EAAE,KAAK;gBACf,OAAO,EAAE,gBAAgB;gBACzB,WAAW,EAAE,IAAI;gBACjB,QAAQ,EAAE,6BAA6B;aACxC,CAAC,CAAC;YACH,OAAO,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACtC,CAAC;KAAA;IAIM,iBAAiB,CAAE,QAAQ;QAEhC,IAAI,CAAM,CAAC;QACX,IAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,EAAC;YACzB,CAAC,GAAG,IAAI,IAAI,CAAE,QAAQ,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;SAC3C;aACG;YACF,CAAC,GAAG,IAAI,IAAI,CAAE,QAAQ,GAAG,MAAM,CAAC,CAAC;SAClC;QAED,IAAI,QAAQ,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;QAC9F,IAAI,UAAU,GAAG,CAAC,SAAS,EAAE,UAAU,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;QAE5I,IAAI,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;QAC3C,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAE,CAAC;QACvD,IAAI,CAAC,CAAC,OAAO,EAAE,GAAG,EAAE,EAAE;YACpB,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,CAAC;SACzE;aACG;YACF,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,GAAI,CAAC,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,CAAC;SACpE;QACD,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,GAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,UAAU,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAE,CAAC;QACnG,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,GAAI,CAAC,CAAC,WAAW,EAAE,CAAC;QAC5D,OAAO,CAAC,CAAC;IACX,CAAC;IAEM,iBAAiB,CAAE,QAAQ;QAEhC,IAAI,CAAM,CAAC;QACX,IAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,EAAC;YACzB,CAAC,GAAG,IAAI,IAAI,CAAE,QAAQ,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;SAC3C;aACG;YACF,CAAC,GAAG,IAAI,IAAI,CAAE,QAAQ,GAAG,MAAM,CAAC,CAAC;SAClC;QAED,IAAI,CAAC,GAAG,EAAE,CAAC;QACX,IAAI,CAAC,CAAC,QAAQ,EAAE,GAAG,EAAE,EAAE;YACrB,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,QAAQ,EAAE,CAAC;SAC1E;aACG;YACF,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,QAAQ,EAAE,CAAC;SACpE;QACD,IAAI,CAAC,CAAC,UAAU,EAAE,GAAG,EAAE,EAAE;YACvB,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,EAAE,CAAC;SACvC;aACG;YACF,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC,UAAU,EAAE,CAAC,QAAQ,EAAE,CAAC;SACtC;QAED,OAAO,CAAC,CAAC;IACX,CAAC;CACF;;YA1GiB,+DAAU;YACH,yEAAW;YACf,4DAAa;YACJ,gEAAiB;YACnB,8DAAe;YACjB,2EAAY;YACV,+EAAc;YACxB,oEAAgB;YACb,uDAAQ;;AAfhB,UAAU;IALtB,+DAAS,CAAC;QACT,QAAQ,EAAE,YAAY;QACtB,kNAAiC;;KAElC,CAAC;2EAQgB,+DAAU;QACH,yEAAW;QACf,4DAAa;QACJ,gEAAiB;QACnB,8DAAe;QACjB,2EAAY;QACV,+EAAc;QACxB,oEAAgB;QACb,uDAAQ;GAfhB,UAAU,CAiHtB;AAjHsB","file":"pages-device-device-module-es2015.js","sourcesContent":["export default \"<ion-header no-border>\\n  <ion-toolbar  color=\\\"primary\\\" mode=\\\"ios\\\">\\n\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"goBack()\\\">\\n        <ion-icon class=\\\"bell-button\\\" src=\\\"assets/themify-icons/SVG/arrow-left.svg\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n\\n    <ion-title>\\n      {{ 'APP.my_devices' | translate }}\\n    </ion-title>\\n\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content>\\n    <ion-searchbar></ion-searchbar>\\n    <ion-list *ngFor=\\\"let device of devices\\\">\\n    \\n      <ion-item>\\n        <ion-avatar slot=\\\"start\\\">\\n          <img src=\\\"assets/google/marker/{{ device.icon_name }}.png\\\">\\n        </ion-avatar>\\n        <ion-label><ion-text color=\\\"primary\\\">{{ device.plate }}</ion-text></ion-label>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-col size=\\\"3\\\"><ion-label><ion-text color=\\\"dark\\\">IMEI</ion-text></ion-label></ion-col>\\n        <ion-col size=\\\"9\\\"><ion-label class=\\\"ion-text-wrap\\\">{{ device.imei }}</ion-label></ion-col>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-col size=\\\"3\\\"><ion-label><ion-text color=\\\"dark\\\">Name</ion-text></ion-label></ion-col>\\n        <ion-col size=\\\"9\\\"><ion-label class=\\\"ion-text-wrap\\\">{{ device.name }}</ion-label></ion-col>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-col size=\\\"3\\\"><ion-label><ion-text color=\\\"dark\\\">Sim</ion-text></ion-label></ion-col>\\n        <ion-col size=\\\"9\\\"><ion-label class=\\\"ion-text-wrap\\\">{{ device.phone }}</ion-label></ion-col>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-col size=\\\"3\\\"><ion-label><ion-text color=\\\"dark\\\">Since</ion-text></ion-label></ion-col>\\n        <ion-col size=\\\"9\\\"><ion-label class=\\\"ion-text-wrap\\\">{{ readableLocalDate(device.created_at) }} {{ readableLocalTime(device.created_at) }}</ion-label></ion-col>\\n      </ion-item>\\n\\n    </ion-list>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DevicePage } from './device.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DevicePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DevicePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DevicePageRoutingModule } from './device-routing.module';\n\nimport { DevicePage } from './device.page';\n\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DevicePageRoutingModule,\n    TranslateModule.forChild()\n  ],\n  declarations: [DevicePage]\n})\nexport class DevicePageModule {}\n","export default \"ion-avatar img {\\n  background-color: #777;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy90ZXBhZnJpbC9Eb2N1bWVudHMvZ29vZ2xlbWFwL3NyYy9hcHAvcGFnZXMvZGV2aWNlL2RldmljZS5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2RldmljZS9kZXZpY2UucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksc0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2RldmljZS9kZXZpY2UucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWF2YXRhciBpbWd7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzc3Nztcbn0iLCJpb24tYXZhdGFyIGltZyB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM3Nzc7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { Platform, NavController,AlertController } from \"@ionic/angular\";\nimport { LoadingController } from '@ionic/angular';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { tap } from 'rxjs/operators';\nimport { ENDPOINT } from '../../../environments/environment';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { TraccarService } from 'src/app/services/traccar.service';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'app-device',\n  templateUrl: './device.page.html',\n  styleUrls: ['./device.page.scss'],\n})\nexport class DevicePage implements OnInit {\n\n  loading:any;\n  httpResponse;\n  devices;\n\n  constructor( \n    private http: HttpClient,\n    private authService: AuthService,\n    private navCtrl: NavController,\n    public loadingController: LoadingController,\n    public alertController: AlertController,\n    private alertService: AlertService,\n    private traccarService: TraccarService,\n    private lang: TranslateService,\n    public platform: Platform,\n   ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter(){\n    this.presentLoadingWithOptions();\n    this.prepareQuery();\n  }\n\n  prepareQuery(){\n\n    this.traccarService.getMyDevices().subscribe(res => {\n      this.httpResponse = res;\n      this.devices = this.httpResponse.items;\n    }, err => {\n      if( err.error.message ){\n        this.alertService.presentToast( err.error.message ,\"danger\");\n      }\n      else{\n        this.alertService.presentToast( err.message ,\"danger\");\n      }\n      this.loading.dismiss();\n    }, ()=>{\n      console.log(this.httpResponse);\n      this.loading.dismiss();\n    });\n  }\n\n  goBack(){\n    this.navCtrl.navigateBack('dashboard/tabs/home');\n  }\n\n  async presentLoadingWithOptions() {\n    this.loading = await this.loadingController.create({\n      duration: 15000,\n      message: 'Please wait...',\n      translucent: true,\n      cssClass: 'custom-class custom-loading'\n    });\n    return await this.loading.present();\n  }\n\n\n\n  public readableLocalDate( the_date )\n  {\n    let d:Date;\n    if(this.platform.is('ios')){\n      d = new Date( the_date.replace(' ', 'T'));\n    }\n    else{\n      d = new Date( the_date + ' UTC');\n    }\n\n    let dayNames = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n    let monthNames = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];\n\n    let s = ' ' + this.lang.instant('APP.day');\n    s += this.lang.instant('APP.' + dayNames[d.getDay()] );\n    if( d.getDate() < 10 ){\n      s += ' ' + this.lang.instant('APP.date') + '0' + d.getDate().toString();\n    }\n    else{\n      s += ' ' + this.lang.instant('APP.date') +  d.getDate().toString();\n    }\n    s += ' ' + this.lang.instant('APP.month') +  this.lang.instant('APP.' + monthNames[d.getMonth()] );\n    s += ' ' + this.lang.instant('APP.year') +  d.getFullYear();\n    return s;\n  }\n\n  public readableLocalTime( the_date )\n  {\n    let d:Date;\n    if(this.platform.is('ios')){\n      d = new Date( the_date.replace(' ', 'T'));\n    }\n    else{\n      d = new Date( the_date + ' UTC');\n    }\n    \n    let s = '';\n    if( d.getHours() < 10 ){\n      s += ' ' + this.lang.instant('APP.time') + '0' + d.getHours().toString();\n    }\n    else{\n      s += ' ' + this.lang.instant('APP.time') + d.getHours().toString();\n    }\n    if( d.getMinutes() < 10 ){\n      s += ':0' + d.getMinutes().toString();\n    }\n    else{\n      s += ':' + d.getMinutes().toString();\n    }\n    \n    return s;\n  }\n}\n"],"sourceRoot":"webpack:///"}